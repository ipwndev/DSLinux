.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "CLOCKDIFF" "8" "27 September 2002" "iputils-020927" "System Manager's Manual: iputils"
.SH NAME
clockdiff \- measure clock difference between hosts
.SH SYNOPSIS

\fBclockdiff\fR [ \fB-o\fR]  [ \fB-o1\fR]  \fB\fIdestination\fB\fR

.SH "DESCRIPTION"
.PP
\fBclockdiff\fR Measures clock difference between us and
\fIdestination\fR with 1 msec resolution using ICMP TIMESTAMP
[2]
packets or, optionally, IP TIMESTAMP option
[3]
option added to ICMP ECHO.
[1]
.SH "OPTIONS"
.TP
\fB-o\fR
Use IP TIMESTAMP with ICMP ECHO instead of ICMP TIMESTAMP
messages. It is useful with some destinations, which do not support
ICMP TIMESTAMP (f.e. Solaris <2.4).
.TP
\fB-o1\fR
Slightly different form of \fB-o\fR, namely it uses three-term
IP TIMESTAMP with prespecified hop addresses instead of four term one.
What flavor works better depends on target host. Particularly,
\fB-o\fR is better for Linux.
.SH "WARNINGS"
.TP 0.2i
\(bu
Some nodes (Cisco) use non-standard timestamps, which is allowed
by RFC, but makes timestamps mostly useless.
.TP 0.2i
\(bu
Some nodes generate messed timestamps (Solaris>2.4), when
run \fBxntpd\fR. Seems, its IP stack uses a corrupted clock source,
which is synchronized to time-of-day clock periodically and jumps
randomly making timestamps mostly useless. Good news is that you can
use NTP in this case, which is even better.
.TP 0.2i
\(bu
\fBclockdiff\fR shows difference in time modulo 24 days.
.SH "SEE ALSO"
.PP
\fBping\fR(8),
\fBarping\fR(8),
\fBtracepath\fR(8).
.SH "REFERENCES"
.PP
[1] ICMP ECHO,
RFC0792, page 14.
.PP
[2] ICMP TIMESTAMP,
RFC0792, page 16.
.PP
[3] IP TIMESTAMP option,
RFC0791, 3.1, page 16.
.SH "AUTHOR"
.PP
\fBclockdiff\fR was compiled by
Alexey Kuznetsov
<kuznet@ms2.inr.ac.ru>. It was based on code borrowed
from BSD \fBtimed\fR daemon.
.SH "SECURITY"
.PP
\fBclockdiff\fR requires CAP_NET_RAWIO capability
to be executed. It is safe to be used as set-uid root.
.SH "AVAILABILITY"
.PP
\fBclockdiff\fR is part of \fIiputils\fR package
and the latest versions are  available in source form for anonymous ftp
ftp://ftp.inr.ac.ru/ip-routing/iputils-current.tar.gz.
