.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "MOUNT.CIFS" "8" "03 August 2002" "" ""
.SH NAME
mount.cifs \- mount using the Common Internet File System (CIFS)
.SH SYNOPSIS

\fBmount.cifs\fR \fBservice\fR \fBmount-point\fR [ \fB-o options\fR] 

.SH "DESCRIPTION"
.PP
\fBmount.cifs\fR mounts a Linux CIFS filesystem. It 
is usually invoked as \fBmount.cifs\fR by
the \fBmount(8)\fR command when using the 
"-t cifs" option. This command only works in Linux, and the kernel must
support the cifs filesystem. The CIFS protocol is the successor to the 
SMB protocol and is supported by most Windows servers and many other
commercial servers and Network Attached Storage appliances as well as 
by the popular Open Source server Samba.
.PP
Options to \fBmount.cifs\fR are specified as a comma-separated
list of key=value pairs. It is possible to send options other
than those listed here, assuming that cifs supports them. If
you get mount failures, check your kernel log for errors on
unknown options.
.PP
\fBmount.cifs\fR is a daemon. After mounting it keeps running until
the mounted cifs is umounted. It will log things that happen
when in daemon mode using the "machine name" mount.cifs, so
typically this output will end up in 
\fIlog.mount.cifs\fR.
.SH "OPTIONS"
.TP
\fBusername=<arg>\fR
specifies the username to connect as. If
this is not given, then the environment variable \fB  USER\fR is used. This option can also take the
form "user%password" or "user/workgroup" or
"user/workgroup%password" to allow the password and workgroup
to be specified as part of the username.
.TP
\fBpassword=<arg>\fR
specifies the CIFS password. If this
option is not given then the environment variable
\fBPASSWD\fR is used. If it can find
no password \fBmount.cifs\fR will prompt
for a passeword, unless the guest option is
given. 

Note that password which contain the arguement delimiter
character (i.e. a comma ',') will failed to be parsed correctly
on the command line.  However, the same password defined
in the PASSWD environment variable or a credentials file (see
below) will be read correctly.
.TP
\fBcredentials=<filename>\fR
specifies a file that contains a username
and/or password. The format of the file is:


.nf
		username = <value>
		password = <value>
		
.fi

This is preferred over having passwords in plaintext in a
shared file, such as \fI/etc/fstab\fR. Be sure to protect any
credentials file properly.
.TP
\fBuid=<arg>\fR
sets the uid that will own all files on
the mounted filesystem.
It may be specified as either a username or a numeric uid.
.TP
\fBgid=<arg>\fR
sets the gid that will own all files on
the mounted filesystem.
It may be specified as either a groupname or a numeric 
gid. 
.TP
\fBport=<arg>\fR
sets the remote cifs port number. By default 
port 445 is tried then if no response port 139 is tried.
.TP
\fBfmask=<arg>\fR
sets the file mask. This determines the 
permissions that remote files have in the local filesystem. 
The default is based on the current umask. 
.TP
\fBdmask=<arg>\fR
sets the directory mask. This determines the 
permissions that remote directories have in the local filesystem. 
The default is based on the current umask. 
.TP
\fBdebug=<arg>\fR
sets the debug level. This is useful for 
tracking down cifs connection problems. A suggested value to
start with is 4. If set too high there will be a lot of
output, possibly hiding the useful output.
.TP
\fBip=<arg>\fR
sets the destination host or IP address.
.TP
\fBdomain=<arg>\fR
sets the domain (workgroup) of the user 
.TP
\fBguest\fR
don't prompt for a password 
.TP
\fBro\fR
mount read-only 
.TP
\fBrw\fR
mount read-write 
.TP
\fBiocharset=<arg>\fR
sets the charset used by the Linux side for codepage
to charset translations (NLS). Argument should be the
name of a charset, like iso8859-1. (Note: only kernel
2.4.0 or later)
.TP
\fBcodepage=<arg>\fR
sets the codepage the server uses. See the iocharset
option. Example value cp850. (Note: only kernel 2.4.0
or later)
.TP
\fBttl=<arg>\fR
how long a directory listing is cached in milliseconds
(also affects visibility of file size and date
changes). A higher value means that changes on the
server take longer to be noticed but it can give
better performance on large directories, especially
over long distances. Default is 1000ms but something
like 10000ms (10 seconds) is probably more reasonable
in many cases.
(Note: only kernel 2.4.2 or later)
.SH "ENVIRONMENT VARIABLES"
.PP
The variable \fBUSER\fR may contain the username of the
person using the client.  This information is used only if the
protocol level is high enough to support session-level
passwords. The variable can be used to set both username and
password by using the format username%password.
.PP
The variable \fBPASSWD\fR may contain the password of the
person using the client.  This information is used only if the
protocol level is high enough to support session-level
passwords.
.PP
The variable \fBPASSWD_FILE\fR may contain the pathname
of a file to read the password from. A single line of input is
read and used as the password.
.SH "BUGS"
.PP
Passwords and other options containing , can not be handled.
For passwords an alternative way of passing them is in a credentials
file or in the PASSWD environment.
.PP
The credentials file does not handle usernames or passwords with
leading space.
.PP
Note that the typical response to a bug report is suggestion
to try the latest version first. So please try doing that first,
and always include which versions you use of relevant software
when reporting bugs (minimum: samba, kernel, distribution)
.SH "SEE ALSO"
.PP
Documentation/filesystems/cifs.txt in the linux kernel
source tree may contain additional options and information.
.SH "AUTHOR"
.PP
Steve French   
The syntax and manpage were loosely based on that of smbmount.
.PP
The current maintainer of the Linux cifs vfs and the userspace
tool \fBmount.cifs\fR is Steve French <URL:mailto:sfrench@samba.org>.
The SAMBA Mailing list <URL:mailto:samba@samba.org>
is the preferred place to ask questions regarding these programs.
