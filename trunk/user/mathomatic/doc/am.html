<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Mathomatic Command Reference</title>
<style type="text/css">
.sample { border-style: dotted; border-width: 1px; color: green; background-color: white; padding: 10px; }
.indent { margin-left: 2em; margin-right: 2em; }
</style>
</head>

<body>
<center>
<h1>Mathomatic Command Reference</h1>
<img src="greenfade.png" alt="decoration">
</center>

<h2>Topics:</h2>

<ol>
<li>
<a href="#introduction">Introduction</a>
<li>
<a href="#selecting">Selecting Equations</a>
<li>
<a href="#solving">Solving Equations</a>
</ol>

<h2>Commands:</h2>

<blockquote>
<table summary="list of all commands">
<tr valign="top">
<td>
<a href="#calculate">Calculate</a>
<br>
<a href="#clear">Clear</a>
<br>
<a href="#code">Code</a>
<br>
<a href="#compare">Compare</a>
<br>
<a href="#copy">Copy</a>
<br>
<a href="#derivative">Derivative</a>
<br>
<a href="#display">Display</a>
<br>
<a href="#divide">Divide</a>
</td>
<td>
<a href="#echo">Echo</a>
<br>
<a href="#edit">Edit</a>
<br>
<a href="#eliminate">Eliminate</a>
<br>
<a href="#extrema">Extrema</a>
<br>
<a href="#factor">Factor</a>
<br>
<a href="#fraction">Fraction</a>
<br>
<a href="#help">Help</a>
<br>
<a href="#imaginary">Imaginary</a>
</td>
<td>
<a href="#integrate">Integrate</a>
<br>
<a href="#laplace">Laplace</a>
<br>
<a href="#limit">Limit</a>
<br>
<a href="#list">List</a>
<br>
<a href="#nintegrate">NIntegrate</a>
<br>
<a href="#optimize">Optimize</a>
<br>
<a href="#pause">Pause</a>
<br>
<a href="#product">Product</a>
</td>
<td>
<a href="#push">Push</a>
<br>
<a href="#quit">Quit</a>
<br>
<a href="#read">Read</a>
<br>
<a href="#real">Real</a>
<br>
<a href="#replace">Replace</a>
<br>
<a href="#roots">Roots</a>
<br>
<a href="#save">Save</a>
<br>
<a href="#set">Set</a>
</td>
<td>
<a href="#simplify">Simplify</a>
<br>
<a href="#solve">Solve</a>
<br>
<a href="#sum">Sum</a>
<br>
<a href="#tally">Tally</a>
<br>
<a href="#taylor">Taylor</a>
<br>
<a href="#unfactor">Unfactor</a>
<br>
<a href="#version">Version</a>
</td>
</tr>
</table>
</blockquote>

<hr>
<a name="introduction"></a>
<h2>Introduction</h2>
<p>
At the Mathomatic main prompt, you may enter:

<ul>
<li>
a numerical expression, which is instantly evaluated and displayed (autocalc),
<li>
an algebraic expression or equation,
which is stored and made the current equation,
<li>
a variable to solve the current equation for (autosolve),
<li>
an equation number to select as the current equation,
<li>
a Mathomatic command (listed in this document),
<li>
a question mark (?) for quick help,
<li>
a semicolon (;) followed by a comment
(everything on a line after a semicolon is ignored),
<li>
or an exclamation point (!) followed by a shell (or system) command.
</ul>

<p>
Mathomatic has about 39 different commands.
They are described below, in alphabetical order.
If the command is longer than 4 letters, you only need
to type in the first 4 letters for Mathomatic to recognize the command.
The command is not executed until you press the Enter key.
Most commands operate on the current expression or equation by default.
Some commands only operate on the current expression or
RHS (Right Hand Side) of the current equation.
<p>
Many commands have an <strong>equation number range</strong> argument.
An equation number range may be a single equation number,
a range of equation numbers separated by a dash (-),
or the word "all", which specifies all stored expressions and equations.
If a number is omitted, the current expression or equation is assumed.
<p>
A greater-than character (&gt;) may be appended to any command line,
followed by a file name.  This will redirect command output to a file.
If the file already exists, it will be overwritten without asking.
Two greater-than characters (&gt;&gt;) next to each other
will <strong>append</strong> command output to a file.
For example:

<pre class="indent">
list export all &gt;filename
</pre>

<p>
will output all stored expressions and equations to a file in exportable,
single-line per equation format,
so they can be read in by a different math program.

<hr>
<a name="selecting"></a>
<h2>Selecting Equations</h2>
<p>
Syntax: <b>#["+" or "-"]equation-number</b>
<p>
To change the current equation number at the main prompt,
type a pound sign (#) followed by the number of the
equation you wish to select.
<p>
The equation number may be preceded by "+" or "-", to select
an equation number relative to the current equation number.
<p>
This syntax also works when prompted for an expression.
The RHS or expression at that equation number is substituted.
<p>
New feature: Selecting equations is now possible by typing only
the equation number at the main prompt.

<hr>
<a name="solving"></a>
<h2>Solving Equations</h2>
<p>
Syntax: <b>variable-to-solve-for</b>
<p>
Mathomatic can solve the current equation for any single variable
or for zero.
Solving is usually accomplished internally by applying identical
mathematical operations to both sides of the equation.
The Mathomatic solve algorithm is the best possible for general algebra
and works perfectly.
<p>
To automatically solve for a variable,
type the variable name in at the prompt.
Mathomatic will proceed to manipulate the current equation
until all of the solutions for the specified variable
are determined.
If successful, the solutions are stored in the current equation
and displayed.
Cubic and quintic equation solving is not supported.
Quartic equations
(fourth degree polynomials)
can be solved if they are bi-quadratic
(only degree four and degree two terms).
<p>
To solve for zero,
type in "0" at the prompt.
Zero solving is a special solve that will always be successful
and will eliminate most divide operators from the equation.
<p>
To see all the steps performed during a solve operation,
type "set debug 2" before solving.
<p>
An example of solving:

<pre class="sample">
1-&gt; a=b+1/b

            1
#1: a = b + -
            b

1-&gt; b ; solve for "b"
Equation was quadratic.

                           1
        (a - ((((a^2) - 4)^-)*sign1))
                           2
#1: b = -----------------------------
                      2

1-&gt; a ; solve for "a", to check the answer
Raising both sides to the power of 2 and unfactoring...

        ((b^2) + 1)
#1: a = -----------
             b

1-&gt; simplify

            1
#1: a = b + -
            b

1-&gt;
</pre>

<hr>
<a name="calculate"></a>
<h2>Calculate</h2>
<p>
Syntax: <b>calculate [variable number-of-iterations]</b>
<p>
This command prompts you for the values of each variable in the
current expression or the RHS of the current equation.
It then simplifies, approximates, and substitutes all "sign" variables
with all possible combinations of values, displaying each solution as it does so.
Nothing is modified by this command.
<p>
This command is used to approximate expressions and expand confusing "sign" variables.
It is also automatically invoked when you type in a numeric expression,
without any variables, at the Mathomatic prompt.
No need to get out your calculator when using Mathomatic!
<p>
If a <b>variable</b> and <b>number of iterations</b> are specified on the command line,
you will be prompted for the initial value of the variable,
and the calculation will be iterated, with the result
repeatedly plugged back into the specified variable.
This will be done until convergence (the output equals the input)
or the number of iterations is performed.
<p>
Some examples of using the calculate command:

<pre class="sample">
1-&gt; y=x^2+x ; the simplest quadratic equation

#1: y = (x^2) + x

1-&gt; x ; solve for "x"
Equation was quadratic.

                              1
        -1*(1 + (((1 + (4*y))^-)*sign1))
                              2
#1: x = --------------------------------
                       2

1-&gt; calculate
Enter y: 0
Solution #1 with sign1 = 1:
 x = -1
Solution #2 with sign1 = -1:
 x = 0
1-&gt; a=b+1 ; an example of iteration

#2: a = b + 1

2-&gt; calculate b 10
Enter initial b: b
 a = b + 10
2-&gt;
</pre>

<hr>
<a name="clear"></a>
<h2>Clear</h2>
<p>
Syntax: <b>clear [equation-numbers-or-ranges]</b>
<p>
This command clears equation spaces so that they can be reused.
The specified equations are deleted from memory.
<p>
"clear all" clears all memory, as if Mathomatic was restarted.
<p>
Multiple equation numbers and/or ranges may be specified, only in this command,
for ease in clearing out equation spaces.

<hr>
<a name="code"></a>
<h2>Code</h2>
<p>
Syntax: <b>code ["c" or "java" or "python" or "integer"] [equation-number-range]</b>
<p>
This command outputs the current or specified equations
in optimal C, Java, or Python language code.
The default is C code.
This output should compile correctly and emulate the equation from Mathomatic.
Just define and assign the independent variables used in the actual program.
<p>
With "code integer", integer arithmetic is assumed,
otherwise double precision floating point arithmetic is assumed.
"code integer" is more generic and should work with the C, Java, and Python languages.
<p>
To represent factorials, the user supplied function "fact()" is called,
since there is no equivalent function or operator in these languages.
"fact()" functions for several languages are supplied in the
directory "factorial" in the Mathomatic source distribution.
<p>
Complex number arithmetic is supported with Python only.
<p>
For the most efficient code, use the <a href="#simplify">simplify</a>
and <a href="#optimize">optimize</a> commands on your equations
before running this command.

<hr>
<a name="compare"></a>
<h2>Compare</h2>
<p>
Syntax: <b>compare equation-number ["with" equation-number]</b>
<p>
This command compares two equations or expressions for equality.
If only one argument is supplied, the comparison is between
the current equation and the specified equation.
The comparison will be faster and more accurate if
both equations are previously solved for the same variable.
<p>
If this command says the equations or expressions are identical,
then they are definitely identical.
If this command says the equations or expressions differ,
then they might be identical if
they are too hard for Mathomatic to simplify completely.

<hr>
<a name="copy"></a>
<h2>Copy</h2>
<p>
Syntax: <b>copy [equation-number-range]</b>
<p>
This command simply duplicates the current or specified equations
and displays them.

<hr>
<a name="derivative"></a>
<h2>Derivative</h2>
<p>
Syntax: <b>derivative [variable or "all"] [order]</b>
<br>
Alternate command name: <b>differentiate</b>
<p>
This command computes the symbolic derivative of the current expression or equation
with respect to the specified <b>variable</b>.
It does this by recursively applying the rule of differentiation for each operator
encountered and simplifying.
If it is an equation, the RHS is differentiated.
If successful,
the derivative is placed in the next available equation space,
displayed,
and becomes the current equation.
The original equation is not modified.
<p>
Specifying "all" computes the derivative with respect to all normal
variables.  It is equivalent to adding together the derivatives with
respect to each variable.
<p>
Specifying the <b>order</b> allows you to repeatedly differentiate all at once.
The default is to differentiate only once (order = 1).
<p>
If differentiation fails, it is probably because symbolic logarithms are required.
Symbolic logarithms are not implemented in Mathomatic.
Also, factorial and modulus cannot be differentiated.
<p>
Some examples:

<pre class="sample">
1-&gt; x^3+x^2+x+1

#1: (x^3) + (x^2) + x + 1

1-&gt; derivative x

#2: (3*(x^2)) + (2*x) + 1

2-&gt; a*x^n ; Show a general rule of differentiation.

#3: a*(x^n)

3-&gt; derivative x

#4: a*n*(x^(n - 1))

4-&gt;
</pre>

<hr>
<a name="display"></a>
<h2>Display</h2>
<p>
Syntax: <b>display ["factor"] [equation-number-range]</b>
<br>
Alternate command name: <b>flist</b>
<p>
This command displays stored expressions in multi-line fraction format.
<p>
Non-integer constants are converted to reduced fractions,
if they are exactly equal to a fraction and it would improve readability.
<p>
The "factor" option causes all integers, less than or equal to 14 digits long,
to be factored into their prime factors before display,
including the numerator and denominator of fractions.
To always factor integers before display, use the "set factor_integers" command.

<hr>
<a name="divide"></a>
<h2>Divide</h2>
<p>
Syntax: <b>divide [variable]</b>
<p>
This command is for doing and experimenting with polynomial, complex number,
and numerical division and Greatest Common Divisors (GCD).
Mathomatic has symbolic polynomial division and GCD routines which
this command calls without any other processing.
<p>
This command prompts for
the dividend (the main polynomial) and the divisor (what you want to
divide the main polynomial by).
The quotient, remainder, and GCD are displayed.
If two numbers were entered, the Least Common Multiple (LCM) is also displayed,
which is the smallest positive number that can be evenly divided by both numbers
without remainder.
The LCM is the same as the Lowest Common Denominator (LCD) of two fractions and
is the two numbers multiplied together, divided by the GCD.
<p>
A <b>variable</b> may be specified on the command line as the base variable of the two polynomials,
but is usually not necessary because a base variable is automatically selected.
<p>
The Greatest Common Divisor of <b>a</b> and <b>b</b> (<b>gcd(a, b)</b>) is defined as the greatest
positive number or polynomial that evenly divides both <b>a</b> and <b>b</b> without remainder.
The Euclidean algorithm is used by Mathomatic to compute the GCD for
numbers and polynomials.
<p>
The GCD is the best way to reduce any fraction to its simplest form.
Just divide the numerator and denominator by their GCD,
and replace them with the quotients (there will be no remainder),
and the fraction is completely reduced.
The GCD is also used when factoring polynomials and for simplifying.
<p>
The Euclidean algorithm of successive divides is the best way to compute the
GCD for numbers and univariate polynomials (polynomials in one variable).
Multivariate polynomials require recursion or other methods.
<p>
An example of polynomial division:

<pre class="sample">
1-&gt; divide
Enter dividend: (x^4) - (7*(x^3)) + (18*(x^2)) - (22*x) + 12
Enter divisor: (x^2) - (2*x) + 2

Polynomial division successful using variable (x).
The quotient is:
6 + (x^2) - (5*x)

The remainder is:
0

Polynomial Greatest Common Divisor (iterations = 1):
(x^2) - (2*x) + 2
1-&gt;
</pre>

<p>
The number of iterations displayed is the number of polynomial divides
done to compute the GCD.

<hr>
<a name="echo"></a>
<h2>Echo</h2>
<p>
Syntax: <b>echo [text]</b>
<p>
This command outputs a line of <b>text</b>, followed by a newline.
The following characters cannot be echoed: ";&gt;".

<hr>
<a name="edit"></a>
<h2>Edit</h2>
<p>
Syntax: <b>edit [file-name]</b>
<p>
This command invokes the editor specified in the "EDITOR" environment variable.
<p>
Type "edit" at the Mathomatic prompt to edit all expressions and equations
stored in the equation spaces.
When you are done editing Mathomatic equations and commands,
save and exit the editor to have them automatically read in by
Mathomatic.
If Mathomatic gets an error reading in its new input,
observe where the error is and continue, to
automatically re-enter the editor.
<p>
To edit an existing file and have it read in, specify the <b>file name</b>
on the edit command line.

<hr>
<a name="eliminate"></a>
<h2>Eliminate</h2>
<p>
Syntax: <b>eliminate variables or "all" ["using" equation-number]</b>
<p>
This command is used to combine simultaneous equations.
It will scan the command line from left to right,
replacing all occurrences of the specified <b>variables</b>
in the current equation with the RHS of solved equations.
If you are eliminating only one variable,
the equation to solve can be specified with the "using" argument.
If "using" is not specified,
Mathomatic will search backwards,
starting at the current equation minus one,
for the first equation that contains the specified variable.
<p>
The equation to solve is solved for the specified variable,
then the Right Hand Side is inserted at every occurrence of the
specified variable in the current equation.
This effectively eliminates the specified variable
from the current equation, resulting in one less unknown.
<p>
There is an advantage to eliminating multiple variables in
one command: each equation will be used only once.
If the same equation is solved and substituted into the current
equation more than once,
it will cancel out.
<p>
"eliminate all" is shorthand for specifying all normal variables
on the command line.
"eliminate all all" will eliminate all variables twice over,
using each equation only once.
<p>
Here is a simple example of combining two equations:

<pre class="sample">
1-&gt; ; This input to Mathomatic arrives at the distance between two points
1-&gt; ; in 3D space from the Pythagorean theorem (distance between two points
1-&gt; ; in 2D space).
1-&gt; 
1-&gt; l^2=(x1-x2)^2+(y1-y2)^2 ; Distance formula for 2D space.

#1: l^2 = ((x1 - x2)^2) + ((y1 - y2)^2)

1-&gt; d^2=l^2+(z1-z2)^2 ; Add another leg.

#2: d^2 = (l^2) + ((z1 - z2)^2)

2-&gt; eliminate l ; Combine the two equations.
Solving equation #1 for (l)...

#2: d^2 = ((x1 - x2)^2) + ((y1 - y2)^2) + ((z1 - z2)^2)

2-&gt; d ; Solve to get the distance formula for 3D space.

                                                         1
#2: d = ((((x1 - x2)^2) + ((y1 - y2)^2) + ((z1 - z2)^2))^-)*sign2
                                                         2

2-&gt; ; The coordinate of point 1 is (x1, y1, z1) and point 2 is (x2, y2, z2).
</pre>

<hr>
<a name="extrema"></a>
<h2>Extrema</h2>
<p>
Syntax: <b>extrema [variable] [order]</b>
<br>
Alternate command name: <b>stationary</b>
<p>
This command computes possible extrema (minimums and maximums) or possible inflection points
of the current expression or equation.
The result is placed in the next available equation space, displayed,
and becomes the current equation.
The original expression is not modified.
<p>
By default this command computes stationary points.
The stationary points of function <b>f(x)</b> are the values of <b>x</b>
when the slope (derivative) equals zero.
Stationary points are likely the local minimums and maximums of the function.
<p>
<b>y = f(x)</b>, where <b>f(x)</b> is the RHS and <b>x</b> is the specified <b>variable</b>,
this command gives the values of <b>x</b> that make the minimums and maximums of <b>y</b>.
This is computed by taking the derivative of <b>f(x)</b>, setting it equal to zero,
and then solving for <b>x</b>.
<p>
The number of derivatives to take can be specified by the <b>order</b> parameter (default is 1).
When <b>order</b> is 2, possible points of inflection are determined.
A point of inflection is a point on a curve at which the second derivative changes sign.

<pre class="sample">
1-&gt; y=x^2

#1: y = x^2

1-&gt; extrema x

#2: x = 0

2-&gt;
</pre>

<p>
This function is a parabola, with the minimum at <b>x = 0</b>.

<hr>
<a name="factor"></a>
<h2>Factor</h2>
<p>
Syntax: <b>factor ["number" [integers]] or [equation-number-range] [variables]</b>
<p>
This command will factor manually entered <b>integers</b>
or trivially factor expressions in equation spaces.
To factor <b>integers</b> in equation spaces and display,
use the "<a href="#display">display</a> factor" command.
<p>
"factor number" will prompt for <b>integers</b> to factor, which may be up to 14 digits.
The <b>integers</b> should be separated with spaces.
Otherwise, this command factors expressions containing
<b>variables</b> in the current or specified equation spaces.
<p>
When factoring expressions, it does some basic simplification and
factors out any common sub-expressions it can,
unless <b>variables</b> are specified on the command line,
in which case only common sub-expressions
containing those variables are factored out.
<p>
For example, with the following expression:

<pre class="indent">
(b*c) + (b*d)
</pre>

<p>
variable "b" factors out and the result of this command is:

<pre class="indent">
b*(c + d)
</pre>

<p>
If no <b>variables</b> are specified on the command line,
this command factors even more.
All equal bases raised to any power are factored.
This is called Horner factoring or Horner's rule.
For example:

<pre class="sample">
1-&gt; x^3+2x^2+3x+4

#1: (x^3) + (2*(x^2)) + (3*x) + 4

1-&gt; factor

#1: (x*((x*(x + 2)) + 3)) + 4

1-&gt;
</pre>

<p>
To undo the factoring, use the <a href="#unfactor">unfactor</a> command.
<p>
This command cannot factor polynomials.
To factor polynomials with repeated or symbolic factors,
use the <a href="#simplify">simplify</a> command.

<hr>
<a name="fraction"></a>
<h2>Fraction</h2>
<p>
Syntax: <b>fraction [equation-number-range]</b>
<p>
This command converts expressions with any algebraic fractions in them
into a single simple algebraic fraction (usually the ratio of two polynomials).
It does this by combining all algebraic fractions
added together with unlike denominators.
<p>
Example:

<pre class="sample">
1-&gt; 1/x+1/y+1/z

    1   1   1
#1: - + - + -
    x   y   z

1-&gt; fraction

    (((y + x)*z) + (x*y))
#1: ---------------------
           (x*y*z)

1-&gt; simplify

    1   1   1
#1: - + - + -
    x   y   z

1-&gt; 
</pre>

<hr>
<a name="help"></a>
<h2>Help</h2>
<p>
Syntax: <b>help [topic or command-name]</b>
<p>
This command is provided as a quick reference while using Mathomatic.
If the argument is a command name,
a one line description and syntax of that command are displayed.
The command name may be abbreviated.
<p>
Entering this command by itself will display a list of topics
and commands.
<p>
To create a Mathomatic command quick reference text file, type:

<pre class="indent">
help all &gt;quick_ref.txt
</pre>

<p>
A question mark (?) is shorthand for this help command.

<hr>
<a name="imaginary"></a>
<h2>Imaginary</h2>
<p>
Syntax: <b>imaginary [variable]</b>
<p>
This command copies the imaginary part of a complex expression to the
next available equation space.
If the expression or RHS of the equation is not complex,
it will tell you and abort.
A complex expression contains both imaginary and real parts.
To copy the real part, see the <a href="#real">real</a> command.
<p>
The separation <b>variable</b> may be specified on the command line, the default is <b>i#</b>.
<p>
If you want to exclude <b>i#</b> from the result,
type the following command after the imaginary command:

<pre class="indent">
replace i# with 1
</pre>

<p>
For example:

<pre class="sample">
1-&gt; (a+b*i#)/(c+d*i#)

    (a + (b*i#))
#1: ------------
    (c + (d*i#))

1-&gt; imaginary

    ((b*i#*c) - (a*d*i#))
#2: ---------------------
       ((c^2) + (d^2))

2-&gt; replace i# with 1

    ((b*c) - (a*d))
#2: ---------------
    ((c^2) + (d^2))

2-&gt;
</pre>

<hr>
<a name="integrate"></a>
<h2>Integrate</h2>
<p>
Syntax: <b>integrate ["definite"] variable [order]</b>
<br>
Alternate command name: <b>integral</b>
<p>
This command computes the symbolic integral of a function
with respect to the specified <b>variable</b>,
using the RHS of the current equation as the function.
If successful,
the integral is placed in the next available equation space,
displayed, and becomes the current equation.
The default is to compute and display the indefinite integral.
<p>
"integrate definite" also integrates, but prompts you for the lower and upper
bounds for definite integration.
If <b>g(x)</b> is the indefinite integral (anti-derivative) of <b>f(x)</b>,
the definite integral is:

<pre class="indent">
g(upper_bound) - g(lower_bound)
</pre>

<p>
Specifying the <b>order</b> allows you to repeatedly integrate all at once.
The default is to integrate only once (order = 1).
<p>
This command is not very sophisticated and is only for integrating
polynomials.

<pre class="sample">
1-&gt; x^3+x^2+x+1

#1: (x^3) + (x^2) + x + 1

1-&gt; integrate x

    (x^4)   (x^3)   (x^2)
#2: ----- + ----- + ----- + x
      4       3       2

2-&gt; derivative x ; Check the result.

#3: 1 + (x^3) + (x^2) + x

3-&gt;
</pre>

<hr>
<a name="laplace"></a>
<h2>Laplace</h2>
<p>
Syntax: <b>laplace ["inverse"] variable</b>
<p>
This command computes the Laplace transform of a function
with respect to the specified <b>variable</b>,
using the RHS of the current equation as the function.
If successful,
the transform is placed in the next available equation space,
displayed, and becomes the current equation.
<p>
This command only works with polynomials.
<p>
Inverse Laplace transforms are done with the "inverse" option.

<pre class="sample">
1-&gt; y=a*x^n

#1: y = a*(x^n)

1-&gt; laplace x

          a*(n!)
#2: y = -----------
        (x^(n + 1))

2-&gt; laplace inverse x

#3: y = a*(x^n)

3-&gt;
</pre>

<hr>
<a name="limit"></a>
<h2>Limit</h2>
<p>
Syntax: <b>limit variable expression</b>
<p>
This command takes the limit of the current expression or equation as <b>variable</b>
goes to <b>expression</b>, approaching <b>expression</b> from both sides.
<b>expression</b> may be anything, including infinity.
The result is placed in the next available equation space,
displayed, and becomes the current equation.
<p>
L'Hopital's rule is not used by this command.
Instead the limit is taken by simplifying, solving, and substituting.
This command is experimental and does not know about negative infinity
and sometimes gives the wrong answer.

<pre class="sample">
1-&gt; 2x/(x+1)

      2*x
#1: -------
    (x + 1)

1-&gt; limit x inf ; take the limit as x goes to infinity

#2: answer = 2

2-&gt;
</pre>

<hr>
<a name="list"></a>
<h2>List</h2>
<p>
Syntax: <b>list ["export" or "maxima"] [equation-number-range]</b>
<p>
This command displays stored expressions in single line format.
<p>
The "export" option allows display in exportable, single line format.
You can cut-and-paste the equations or redirect them to a file,
so they can be read in with a different math program.
"list maxima" is for making output compatible with the program Maxima.
<p>
This command simply outputs expressions and equations as stored internally by Mathomatic.
There is no simplification and nothing more is done.
<p>
To display equation spaces in multi-line fraction format,
see the <a href="#display">display</a> command.

<hr>
<a name="nintegrate"></a>
<h2>NIntegrate</h2>
<p>
Syntax: <b>nintegrate ["trapezoid"] variable [partitions]</b>
<p>
This is a numerical integrate command and it will
not generally compute the exact symbolic integral
except for the simplest of expressions.
This command will prompt you for the lower
and upper bounds to perform numerical definite integration
on the current expression or the RHS of the current equation,
with respect to the specified <b>variable</b>.
These bounds may be any expression not containing infinity.
<p>
This command uses Simpson's rule to do the approximation.
Accuracy varies widely, depending on the expression integrated
and the interval.
<p>
If "trapezoid" (can be shortened to "trap") is specified on the command line,
the trapezoid method is used instead, which is usually less
accurate than Simpson's rule.
The way the trapezoid method works is the interval from the lower bound to the
upper bound is divided into 1000 partitions to produce 1000 trapezoids.
Then the area of each trapezoid is added together to produce the result.
This means that the accuracy usually decreases as the interval increases.
Simpson's rule uses the same method,
except parabolas are used, instead of trapezoids.
<p>
If the integration fails, chances of success are greater if
you reduce the number of variables involved in the integration.
<p>
If there are any singularities between the bounds of integration,
the computed result will be wrong.

<pre class="sample">
1-&gt; y=x+1

#1: y = x + 1

1-&gt; nintegrate x
Enter lower bound: 0
Enter upper bound: x
Approximating the definite integral using Simpson's rule...
Integration successful.

            (x^2)
#2: y = x + -----
              2

2-&gt;
</pre>

<p>
This works because if <b>g(x)</b> is the indefinite integral (anti-derivative) of <b>f(x)</b>,
the definite integral is:

<pre class="indent">
g(upper_bound) - g(lower_bound)
</pre>

<p>
In this case, it is <b>g(x) - g(0)</b>, which is <b>g(x) - 0</b>, which is simply <b>g(x)</b>.

<pre class="sample">
1-&gt; y=x^0.5/(1-x^3)

              1
           (x^-)
              2
#1: y = -----------
        (1 - (x^3))

1-&gt; nintegrate x
Warning: Singularity detected, result of numerical integration may be wrong.
Enter lower bound: 2
Enter upper bound: 4
Approximating the definite integral using Simpson's rule...
Integration successful.

#2: y = -0.162561171857

2-&gt;
</pre>

<p>
This example avoids the singularity at <b>x = 1</b> and is accurate to 12 digits.

<hr>
<a name="optimize"></a>
<h2>Optimize</h2>
<p>
Syntax: <b>optimize [equation-number-range]</b>
<p>
This command splits the specified equations into smaller multiple equations
with no repeated expressions.
Each repeated expression becomes
a new equation solved for a temporary variable (named "temp").
Note that this command will only work if the whole expression (anything within
parentheses) is repeated.
It should work with partial expressions too, to be perfect.
<p>
To undo this command and substitute the split up equations into the original
equation, use the <a href="#eliminate">eliminate</a> command.

<pre class="sample">
1-&gt; y = (a+b+c+d)^(a+b+c+d)

#1: y = (a + b + c + d)^(a + b + c + d)

1-&gt; optimize

#2: temp = a + b + c + d


#1: y = temp^temp

1-&gt; eliminate temp ; undo the optimization
Solving equation #2 for (temp)...

#1: y = (a + b + c + d)^(a + b + c + d)

1-&gt;
</pre>

<hr>
<a name="pause"></a>
<h2>Pause</h2>
<p>
Syntax: <b>pause [text]</b>
<p>
This command waits for the user to press the Enter key.
It is useful in text files that are read in to Mathomatic.
Optionally, a one line text message may be displayed.
<p>
Typing "quit" or "exit" before pressing the Enter key will fail this command
and abort the current script.

<hr>
<a name="product"></a>
<h2>Product</h2>
<p>
Syntax: <b>product variable start end [step]</b>
<p>
This command performs a mathematical product of the current expression
or the RHS of the current equation
as the index <b>variable</b> goes from <b>start</b> to <b>end</b>
in steps of <b>step</b> (default 1).
The result is stored and displayed.
The current equation is not modified.

<pre class="sample">
1-&gt; y=a*x

#1: y = a*x

1-&gt; product
Enter variable: x
x = 1
To: 10

#2: y = 3628800*(a^10)

1-&gt; 10!
 Answer = 3628800
1-&gt;
</pre>

<hr>
<a name="push"></a>
<h2>Push</h2>
<p>
Syntax: <b>push [equation-number-range]</b>
<p>
This command pushes the current or specified expressions into the readline
history, for easy editing and re-entry.
After this command, the pushed expressions are
accessed by using the cursor UP key.
<p>
This command only exists if Mathomatic was compiled with readline support.

<hr>
<a name="quit"></a>
<h2>Quit</h2>
<p>
Syntax: <b>quit</b>
<br>
Alternate command name: <b>exit</b>
<p>
Type in this command to exit Mathomatic.
All equations and expressions in memory are discarded.
<p>
To save your stored equations and expressions, see the
<a href="#save">save</a> command.

<hr>
<a name="read"></a>
<h2>Read</h2>
<p>
Syntax: <b>read file-name</b>
<p>
This command reads in a text file as if you
typed the text of the file in at the prompts.
The text file should contain Mathomatic equations and commands.
Read commands may be nested.
If any command or operation returns with an error,
the read operation is aborted.
<p>
Equations saved with the <a href="#save">save</a> command
are restored using this read command.
<p>
This command is automatically executed when you start up Mathomatic with
file names on the command line.
<p>
The default file name extension for Mathomatic input files is ".in".
A file name extension is not required.

<hr>
<a name="real"></a>
<h2>Real</h2>
<p>
Syntax: <b>real [variable]</b>
<p>
This command copies the real part of a complex expression to the
next available equation space.
If the expression or RHS of the equation is not complex,
it will tell you and abort.
A complex expression contains both imaginary and real parts.
To copy the imaginary part, see the
<a href="#imaginary">imaginary</a> command.
<p>
The separation <b>variable</b> may be specified on the command line, the default is <b>i#</b>.
<p>
There will be no imaginary numbers in the result.

<pre class="sample">
2-&gt; (a+b*i#)/(c+d*i#)

    (a + (b*i#))
#3: ------------
    (c + (d*i#))

3-&gt; real

    ((a*c) + (b*d))
#4: ---------------
    ((c^2) + (d^2))

4-&gt;
</pre>

<hr>
<a name="replace"></a>
<h2>Replace</h2>
<p>
Syntax: <b>replace ["constants"] or [variables ["with" expression]]</b>
<p>
By default, this command prompts you for a replacement expression
for each variable in the current expression or equation.
If an empty line is entered for a variable, that variable remains unchanged.
The result is placed in the current expression or equation and displayed.
<p>
This command is very useful for renaming or substituting variables.
It is smart enough to do variable interchange.
<p>
If <b>variables</b> are specified on the command line,
you will be prompted for those variables only and
all other variables will be left unchanged.
<p>
If "with" is specified,
you won't be prompted and all <b>variables</b> specified will be
replaced with the <b>expression</b> that follows.
<p>
"replace constants" approximates constants and substitutes <b>pi#</b> and <b>e#</b>
in the current expression or equation with their respective floating point values.
This allows them to combine with other constants and may help sometimes.

<hr>
<a name="roots"></a>
<h2>Roots</h2>
<p>
Syntax: <b>roots root real-part imaginary-part</b>
<p>
This command displays all complex number roots
of a given positive integer <b>root</b> of a complex number.
The number of the root equals the number of correct solutions.
For example, "3" would give the 3 roots of the cubed root.
This command will also convert rectangular coordinates to polar coordinates.
<p>
The floating point <b>real part</b> (X coordinate)
and <b>imaginary part</b> (Y coordinate)
of the complex number are prompted for.
Just enter an empty line if the value is zero.
The polar coordinates of the complex number are displayed first,
which consist of an amplitude (distance from the origin)
and an angle (direction).
Then each root is displayed, along with an "Inverse Check" value,
which should equal the original complex number.
<p>
Since double precision floating point is used, the results may not be exact.

<pre class="sample">
1-&gt; roots
Enter root (positive integer): 3
Enter real part (X): 8
Enter imaginary part (Y):

The polar coordinates are:
8 amplitude and 0 radians (0 degrees).

The 3 roots of 8^(1/3) are:

2
Inverse Check: 8

-1 +1.73205080757*i
Inverse Check: 8

-1 -1.73205080757*i
Inverse Check: 8

1-&gt;
</pre>

<hr>
<a name="save"></a>
<h2>Save</h2>
<p>
Syntax: <b>save file-name</b>
<p>
This command saves all equations in the specified text file.
If the file exists, Mathomatic will ask you if you want to overwrite it.
The saved equations can be reloaded at a later time
by using the <a href="#read">read</a> command.
You can edit the saved equations with your favorite ASCII text editor.

<hr>
<a name="set"></a>
<h2>Set</h2>
<p>
Syntax: <b>set [["no"] option]</b>
<p>
This command sets various options listed below, for the current session.
They remain in effect until you exit Mathomatic.
Typing "set" without arguments shows the current option settings.
<p>
The specified <b>option</b> is turned on, unless it is preceded by "no", which turns it off.
<p>
To change the default settings of Mathomatic,
set options can be put in the file "~/.mathomaticrc"
(for Windows: "mathomatic.rc" in the same directory as the Mathomatic executable).
It should be a text file with one set option per line, without the word "set".
This file is loaded every time Mathomatic starts up, when not in test or secure mode.

<h3>Options:</h3>
<blockquote>
<p>
"set no autosolve" will disable solving by typing the variable at the prompt.
This allows entry of single variable expressions.
When disabled, use the <a href="#solve">solve</a> command.
<p>
"set no autocalc" will disable automatic approximation (calculation) of
purely numerical input.
Instead, numerical input will be entered into equation
spaces, so it can be operated on by commands.
<p>
"set debug" followed by an integer sets the debug level number.
The initial debug level is 0, for no debugging.
If the level number is 2,
Mathomatic will show you how it solves equations.
Level 4 debugs the <a href="#simplify">simplify</a>
command and its polynomial routines.
Levels 5 and 6 show all intermediate expressions.
Set the debug level to -1 for suppression of unnecessary helpful messages.
<p>
"set case" will set alphabetic case sensitive mode, while
"set no case" will set case insensitive mode (all alphabetic characters
will be converted to lower case).
"set case" is the default.
<p>
"set color" enables color mode.
When color mode is on, ANSI color escape sequences are output to make
equations easier to read.  Requires a terminal emulator that supports
ANSI color escape sequences.
<p>
"set bold_colors" enables highlighting in color mode.
It makes all output brighter.
Use this if any colors are difficult to see.
<p>
"set columns" followed by a positive integer sets the number of
character columns on the screen.
When an expression is displayed in fraction format and it is wider
than the number of screen columns, single line format is used, instead.
"set no columns" does no checking for screen size and always
displays in fraction format.
In most cases, this value is set automatically on startup.
<p>
"set no display2d" will set the display mode to single line format,
instead of fraction format.
Single line format is useful when feeding Mathomatic output into another program.
An additional effect of "set no display2d" is constants will not be converted to fractions
(i.e.: 1/2 will display as 0.5).
By default, expressions are displayed in fraction format for easier reading.
<p>
"set preserve" will set "preserve_roots" mode, which suppresses approximation
of roots of rational numbers, if the result will be irrational.
For example, <b>2^.5</b> will remain <b>2^.5</b> unless explicitly approximated.
This is the default.
<p>
"set true_modulus" sets true modulus mode, which is 100% mathematically correct.
Pseudo-modulus mode is used by default,
which is the modulus used by the C and Java computer languages.
Pseudo-modulus only gives the remainder of the division,
which may be negative when the dividend is negative,
and will sometimes fail the simplification rules employed by Mathomatic.
True modulus always gives a positive value or zero.
This mode only affects modulo operator calculations.
All true modulus simplification rules are enabled, regardless of this mode.
<p>
"set finance" sets finance mode, which displays all constants with exactly 2 digits
after the decimal point (for example: "2.00").
Displayed constants are always rounded to the nearest cent,
though internally there is no loss of accuracy.
<p>
"set factor_integers" sets automatic factoring of integers for all displayed expressions.
All integers up to 14 digits are factored into their prime factors before any expression
is displayed, after every command.
This command can be shortened to "set factor".
<p>
"set special_variable_character" followed by an ASCII character will allow Mathomatic
to use that character in variable names.  For example, "set special $" will allow
variable names like "$a" and "a$".
The default is backslash (\).
<p>
"set directory" followed by a directory name will change the current working directory
to that directory.
This command can be shortened to "set dir".
</blockquote>

<hr>
<a name="simplify"></a>
<h2>Simplify</h2>
<p>
Syntax: <b>simplify ["symbolic"] ["quick"] [equation-number-range]</b>
<p>
This command automatically simplifies expressions in place.
The result is usually the smallest possible, easily readable expression.
<p>
Use this command whenever you think an expression is not completely
simplified or if you don't like the way an expression is factored.
<p>
More than one option may be specified at a time.

<h3>Options:</h3>
<blockquote>
<p>
The "symbolic" option indicates <b>(a^n)^m</b> should always be reduced to <b>a^(n*m)</b>.
This removes any absolute value operations:
(<b>(a^2)^.5 = a^(2*.5) = a^1 = a</b>).
<p>
The "quick" option skips expanding expressions raised to the power of 2
or higher, like <b>(x+1)^5</b>.
Algebraic fractions are kept simple (no fractions within fractions) only when using this option.
</blockquote>

<p>
This command applies many algebraic transformations
and then tries to combine and reduce algebraic fractions and rationalize their denominators.
Then smart (heuristic) and polynomial division are tried on any divides.
Polynomials with repeated or symbolic factors are factored.
Lastly, the expressions are nicely factored and displayed.
<p>
Smart division is like polynomial division,
but it tries every term in the dividend,
instead of the term raised to the highest power,
to make the expression smaller.

<pre class="sample">
1-&gt; (x+2^.5)^3 ; an irrational polynomial with repeated factors

            1
#1: (x + (2^-))^3
            2

1-&gt; unfactor ; multiply it out

                        1                   1
#1: (x^3) + (3*(x^2)*(2^-)) + (6*x) + (2*(2^-))
                        2                   2

1-&gt; simplify ; put it back together, since factored is its simplest form

            1
#1: (x + (2^-))^3
            2

1-&gt;
</pre>

<hr>
<a name="solve"></a>
<h2>Solve</h2>
<p>
Syntax: <b>solve variable or "0"</b>
<p>
This command automatically solves the current equation for the specified <b>variable</b> or for zero.
The current equation is replaced with the result.
See <a href="#solving">Solving Equations</a>.

<hr>
<a name="sum"></a>
<h2>Sum</h2>
<p>
Syntax: <b>sum variable start end [step]</b>
<p>
This command performs a mathematical summation of the current expression
or the RHS of the current equation
as the index <b>variable</b> goes from <b>start</b> to <b>end</b>
in steps of <b>step</b> (default 1).
The result is stored and displayed.
The current equation is not modified.

<pre class="sample">
1-&gt; y=a*x

#1: y = a*x

1-&gt; sum
Enter variable: x
x = 1
To: 10

#2: y = 55*a

1-&gt;
</pre>

<hr>
<a name="tally"></a>
<h2>Tally</h2>
<p>
Syntax: <b>tally</b>
<p>
This command prompts for a value, adds it to a running
total, simplifies, displays the running total and average, and repeats.
No equation spaces are used.
<p>
It is a convenient way of adding, subtracting, and averaging many numbers and/or variables.
Enter an empty line to end.

<hr>
<a name="taylor"></a>
<h2>Taylor</h2>
<p>
Syntax: <b>taylor [variable] [order] [point]</b>
<p>
This command computes the Taylor series expansion of the current
expression or RHS of the current equation, with respect to the specified <b>variable</b>.
The Taylor series is sometimes used to approximate expressions.
<p>
It prompts you for the <b>point</b> of expansion, which is usually a variable or 0,
but may be any expression.
Typically 0 is used to generate Maclaurin polynomials.
<p>
Then it prompts you for the <b>order</b>
of the series, which is an integer indicating how many derivatives to
take in the expansion (default is infinity, until the derivative reaches 0).
<p>
The result is placed in the next available
equation space, displayed, and becomes the current equation.
The original expression is not modified.

<pre class="sample">
1-&gt; e#^x

#1: e#^x

1-&gt; taylor x
Taylor approximation of current equation about x = point.
Enter point: 0
Enter order (number of derivatives to take): 10

            (x^2)   (x^3)   (x^4)   (x^5)   (x^6)   (x^7)   (x^8)   (x^9)    (x^10)
#2: 1 + x + ----- + ----- + ----- + ----- + ----- + ----- + ----- + ------ + -------
              2       6      24      120     720    5040    40320   362880   3628800

2-&gt;
</pre>

<hr>
<a name="unfactor"></a>
<h2>Unfactor</h2>
<p>
Syntax: <b>unfactor ["fully"] [equation-number-range]</b>
<br>
Alternate command name: <b>expand</b>
<p>
This command algebraically expands expressions by multiplying out products of sums and exponentiated sums.
<p>
"unfactor fully" fully expands by also expanding algebraic fractions,
separating each fraction with a sum in the numerator into
smaller fractions with the same denominator for each term in numerator.
<p>
To illustrate what unfactoring does,
suppose you have the following equations:

<pre class="sample">
1-&gt; a=b*(c+d)

#1: a = b*(c + d)

1-&gt; z=(x+y)^2

#2: z = (x + y)^2

2-&gt; unfactor all

#1: a = (b*c) + (b*d)


#2: z = (x^2) + (2*x*y) + (y^2)

2-&gt;
</pre>

<p>
<b>(x+y)^2</b> is converted to <b>(x+y)*(x+y)</b> and then multiplied out.

<hr>
<a name="version"></a>
<h2>Version</h2>
<p>
Syntax: <b>version</b>
<p>
Outputs the Mathomatic version number, compile flags used, and maximum memory usage
for the currently running version of Mathomatic.  The maximum memory usage displayed
does not include stack size (which varies) or executable size.

<hr>
<font color="red">Copyright &copy; 1987-2007 George Gesslein II</font>

<hr>
<a href="http://www.mathomatic.org">Mathomatic Home Page</a>

</body>
</html>
