echo "/etc/rc processing ..."
echo "Starting watchdog ..."
watchdog /dev/watchdog
hostname SG580
echo "Making Filesystems ..."
expand /etc/ramfs.img /dev/ram2
echo "Mounting Filesystems ..."
mount -t proc proc /proc
echo 2 > /proc/cpu/alignment
mount -t devpts devpts /dev/pts
mount -t tmpfs -o size=33m tmpfs /var
mount -t ext2 /dev/ram2 /etc/config
mkdir -m 1777 /var/tmp
mkdir -m 755 /var/log
mkdir -m 755 /var/run
mkdir -m 1777 /var/lock
mkdir -m 755 /var/empty
mkdir -m 755 /var/mnt
echo "Processing Config Filesystem ..."
flatfsd -r
echo "Setting system clock ..."
hwclock --hctosys --utc
logd boot
echo "Loading network drivers."
insmod ixp400
insmod ixp425_npe
rmmod ixp425_npe
insmod ixp425_eth
setmac -o 0x1c000
insmod ipsec
insmod authd
initconf -v
ifconfig lo 127.0.0.1
echo "/etc/rc complete."
